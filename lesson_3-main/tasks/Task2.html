<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>ITEA JS Advanced. Lesson 3: Task 2</title>
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="wrap" id="wrap">
      <header>
        <button id="HouseButton">House</button>
        <button id="TreeButton">Tree</button>
        <button id="PlaneButton">Plane</button>
      </header>
      <div id="chooseYourBlock"></div>
      <div id="result"></div>
    </div>
    <script>
      /*
			Задание:

			По нажатию на кнопку, в блок с id chooseYourBlock выводить иконку с нажатой кнопки:

			House:  https://image.flaticon.com/icons/svg/149/149064.svg
			Tree: https://image.flaticon.com/icons/svg/620/620705.svg
			Plane: https://image.flaticon.com/icons/svg/579/579268.svg

			Под иконкой расположить еще одну кнопку, по нажатию на которую из соответствующего массива
			подтягивается случайная картинка с изображением в блок result.
			Предыдущий результат очищается.



		*/
      window.addEventListener("load", function (event) {
        const houseButton = document.getElementById("HouseButton");
        const treeButton = document.getElementById("TreeButton");
        const planeButton = document.getElementById("PlaneButton");
        const svgImage = document.getElementById("chooseYourBlock");
        const randomFullImage = document.getElementById("result");

        let data = {
          smalImg: [
            "https://image.flaticon.com/icons/svg/149/149064.svg",
            "https://image.flaticon.com/icons/svg/620/620705.svg",
            "https://image.flaticon.com/icons/svg/579/579268.svg",
          ],
          dataType: {
            house: [
              "https://static.pexels.com/photos/106399/pexels-photo-106399.jpeg",
              "https://i.pinimg.com/736x/7f/be/50/7fbe50ec634c65709d7fe6ac267c4e6f--large-garage-plans-house-plans-large-family.jpg",
              "https://i.ytimg.com/vi/Xx6t0gmQ_Tw/maxresdefault.jpg",
            ],
            tree: [
              "https://static.pexels.com/photos/56875/tree-dawn-nature-bucovina-56875.jpeg",
              "https://c1.staticflickr.com/8/7218/7184786016_1ddab461e8_b.jpg",
              "http://www.atzmut.com/wp-content/uploads/2016/01/tree.jpg",
            ],
            planet: [
              "http://www.x-plane.com/wp-content/uploads/2014/08/B777-200ER.png",
              "https://media.cntraveler.com/photos/57067c1e9adc6caf5afe3f4c/master/pass/plane-landing-cr-getty-sb10062851ai-001.jpg",
              "https://media.wired.com/photos/59323264a31264584499367f/master/w_1024,c_limit/diesel-plane-inline.jpg",
            ],
          },
        };
        const createFullImg = (src) => {
          const randomImg = document.createElement("img");
          randomImg.src = src;
          randomImg.style = "width: 500px; height: 500px";
          randomFullImage.appendChild(randomImg);
        };

        const showImages = (src, dataType) => {
          const img = document.createElement("img");
          const randomFullImageButton = document.createElement("button");
          svgImage.innerHTML = "";
          randomFullImage.innerHTML = "";
          img.src = src;
          img.style = "width: 200px; height: 200px";
          randomFullImageButton.innerHTML = `Show full image ${dataType}`;
          svgImage.appendChild(img);
          svgImage.appendChild(randomFullImageButton);
          randomFullImage.dataset.type = dataType;
          randomFullImageButton.addEventListener("click", () => {
            randomFullImage.innerHTML = "";
            if (randomFullImage.dataset.type === dataType) {
              createFullImg(
                data.dataType[dataType][
                  Math.floor(Math.random() * data.dataType[dataType].length)
                ]
              );
            }
          });
        };
        houseButton.addEventListener("click", () =>
          showImages(data.smalImg[0], Object.keys(data.dataType)[0])
        );
        treeButton.addEventListener("click", () =>
          showImages(data.smalImg[1], Object.keys(data.dataType)[1])
        );
        planeButton.addEventListener("click", () =>
          showImages(data.smalImg[2], Object.keys(data.dataType)[2])
        );
      });
    </script>
  </body>
</html>
